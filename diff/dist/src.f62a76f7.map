{"version":3,"sources":["src\\react\\create-element.js","src\\react-dom\\dom.js","src\\react-dom\\render.js","src\\react\\component.js","src\\react\\index.js","src\\react-dom\\index.js","src\\index.js"],"names":["createElement","tag","attrs","children","key","setAttribute","dom","name","value","test","toLowerCase","style","cssText","removeAttribute","renderComponent","render","_render","vnode","undefined","console","log","String","textNode","document","createTextNode","component","createComponent","setComponentProps","base","Object","keys","forEach","child","props","renderer","parentNode","replaceChild","_component","inst","prototype","Component","constructor","container","appendChild","isReactComponent","state","stateChange","assign","Counter","num","onClick","setState","React","ReactDOM","fontSize","fontWeight","getElementById"],"mappings":"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","file":"src.f62a76f7.map","sourceRoot":"..","sourcesContent":["//三个参数是一个方法\r\nfunction createElement(tag,attrs,...children){\r\n    attrs = attrs || {};//安全措施 是对象等一会儿for key in\r\n    // console.log(tags,attrs,children);\r\n    // key// 标注唯一性\r\n    //虚拟节点\r\n    // console.log(attrs.key)\r\n    return{\r\n        tag,\r\n        attrs,\r\n        children,\r\n        key:attrs.key || null\r\n    }\r\n}\r\nexport default createElement;\r\n\r\n","export function setAttribute(dom, name, value){\r\n    if(name === 'className') name = 'class';\r\n    if(/on\\w+/.test(name)){//方法\r\n        name = name.toLowerCase();    // 小写\r\n        dom[name] = value || '';\r\n    } else if(name === 'style'){\r\n        if(!value || typeof value === 'string'){\r\n            dom.style.cssText = value;\r\n        } else if (value && typeof value === 'object'){\r\n            for(let name in value){\r\n                dom.style[name] = typeof value[name] === 'number' ? value[name] + 'px' : value[name];    // 驼峰式命名 如 fontSize\r\n            }\r\n        }\r\n    } else {\r\n        if(name in dom) {\r\n            dom[name] = value || '';\r\n        }\r\n        if(value){\r\n            dom.setAttribute(name, value);\r\n        } else{\r\n            dom.removeAttribute(name, value);\r\n        }\r\n    }\r\n}\r\n","// import createElement from \"../react/create-element\";\r\n// import { setAttribute } from './dom.js';\r\n\r\n// //虚拟节点 render方法挂载在盒子container(root)\r\n\r\n// /**\r\n//  * 将虚拟 DOM 解析成真实 DOM\r\n//  * @params vnode 虚拟 DOM\r\n//  * @return 返回 DOM\r\n//  */\r\n// function _render(vnode){\r\n//     // console.log(vnode);\r\n//     // return document.createTextNode('render')  快速实现一下\r\n//     // 1.render方法递归 将结点转成dom, 子节点递归 ，子节点递归的条件要有出口,出口就是文本节点textNode\r\n//     // 2.节点类型 三种： \r\n//     // 文本节点 return createTextNode()\r\n//     // 标签节点 createElement attr children设置（递归_render)\r\n//     // 3. Commponent render(return jsx)\r\n//     //拿到一个新的jsx再次render\r\n//     //_render 私有方法\r\n//     if (vnode === undefined || vnode === null || typeof vnode === 'boolean')\r\n//     vnode = '';\r\n//    //文本节点\r\n//     if (typeof vnode === 'string') {\r\n//       let textNode = document.createTextNode(vnode);\r\n//       return textNode;\r\n//     }\r\n//     // <Counter />  不是正常标签, vnode.tag= function Counter(){}\r\n//     //vnode.tag是一个函数\r\n//     if(typeof vnode.tag === 'function'){\r\n//         // console.log(vnode);\r\n//         // return document.createTextNode('component');\r\n//         const component = createComponent(vnode.tag,vnode.attrs);//返回Counter组件 render方法得到jsx\r\n//     }\r\n//     const dom = document.createElement(vnode.tag);\r\n//     if (vnode.attrs) {\r\n//       Object.keys(vnode.attrs).forEach(key => {\r\n//         const value = vnode.attrs[key];\r\n//         // dom.setAttribute(key, value);\r\n//         setAttribute(dom, key, value);\r\n//       })\r\n//     }\r\n//   //循环递归 输出来\r\n//     if(vnode.children){\r\n//         vnode.children.forEach(child => render(child,dom));\r\n//     }\r\n  \r\n//     return dom;\r\n//   }\r\n\r\n//   //组件实例里面调用一下props设置一下\r\n//   function createComponent(component,props){\r\n//       let inst; //创建对象返回对象 \r\n//       //component 任何一个组建\r\n//       if(component.prototype && component.prototype.render){\r\n//           inst = new component(props);   \r\n//       }else{\r\n//         inst = new Component(props); //还没有构建组建从基类里面\r\n//         //函数立即变成组建  及时给的方法\r\n//         inst.constructor\r\n//       }\r\n//   }\r\n// export function render(vnode,container){\r\n//     // console.log(vnode,container)\r\n//     //_render 私有方法将对象一个个解析成真实dom\r\n//     return container.appendChild(_render(vnode));\r\n\r\n// }\r\n\r\nimport { setAttribute } from './dom.js'\r\nimport Component from '../react/component.js';\r\n/**\r\n * 将虚拟DOM 变真实DOM\r\n * @params vnode 虚拟DOM, \r\n * @return 返回DOM\r\n */\r\n\r\nfunction _render (vnode) {\r\n  // console.log(vnode);\r\n  // return document.createTextNode('render');\r\n  // 1. 递归 将结点转成dom ,子结点递归，出口就是文本结点\r\n  // 2. 节点类型 三种： \r\n  // 文本结点 return createTextNode()\r\n  // 标签结点 createElement attr chilren设置（递归_render）\r\n  // 3. Component render(return jsx)\r\n  // render()\r\n  if (vnode === undefined || vnode === null || typeof vnode === 'boolean')\r\n  vnode = '';\r\n  if (typeof vnode === 'number') {\r\n    console.log(vnode)\r\n    vnode = String(vnode);//强制类型转换  数值型装换成string\r\n  }\r\n  if (typeof vnode === 'string') {\r\n    let textNode = document.createTextNode(vnode);\r\n    return textNode;\r\n  }\r\n  // <Counter />  不是正常标签, vnode.tag= function Counter(){}\r\n  if (typeof vnode.tag === 'function') {\r\n    // console.log(vnode);\r\n    // return document.createTextNode('component');\r\n    const component = createComponent(vnode.tag, vnode.attrs);\r\n    setComponentProps(component, vnode.attrs);\r\n    return component.base;\r\n  }\r\n\r\n  const dom = document.createElement(vnode.tag);\r\n  if (vnode.attrs) {\r\n    Object.keys(vnode.attrs).forEach(key => {\r\n      const value = vnode.attrs[key];\r\n      setAttribute(dom, key, value);\r\n    })\r\n  }\r\n\r\n  if (vnode.children) {\r\n    vnode.children.forEach(child => render(child, dom));\r\n  }\r\n\r\n  return dom;\r\n}\r\n\r\nfunction setComponentProps (component, props) {\r\n  component.props = props;\r\n  renderComponent(component);\r\n}\r\n\r\n// 将component里的jsx转为DOM 他还会在setState时调用 \r\nexport function renderComponent(component) {\r\n  let base; //jsx=> DOM\r\n  const renderer = component.render();\r\n  base = _render(renderer); //真实dom节点\r\n  //非第一次渲染\r\n  if(component.base && component.base.parentNode){\r\n      component.base.parentNode.replaceChild(base,component.base)\r\n  }\r\n  component.base = base; //\r\n  base._component = component;\r\n}\r\n\r\nfunction createComponent(component, props) {\r\n  let inst;\r\n  if (component.prototype && component.prototype.render) {\r\n    inst = new component(props);\r\n  } else {\r\n    inst = new Component(props);\r\n    inst.constructor = component;\r\n    inst.render = function() {\r\n      return this.constructor(props);\r\n    }  \r\n  }\r\n  return inst;\r\n}\r\nexport function render(vnode, container) {\r\n  return container.appendChild(_render(vnode));\r\n}\r\n","import {renderComponent} from '../react-dom/render';\r\nclass Component {\r\n    constructor (props = {}){\r\n        this.isReactComponent = true;\r\n        this.state = {};\r\n        this.props = props;\r\n    }\r\n    setState(stateChange){\r\n        Object.assign(this.state,stateChange);\r\n        renderComponent(this);\r\n    }\r\n    // setState做响应式编程的  \r\n    // 更新DOM\r\n    \r\n}\r\nexport default Component;","import createElement from './create-element.js'\r\nimport Component from './component.js'\r\nexport default {\r\n    createElement,\r\n    Component\r\n}\r\n","import {render} from './render'\r\n//ES6模块机制\r\nexport default{\r\n    render\r\n}\r\n\r\n","import React from './react';\r\nimport ReactDOM from './react-dom';\r\n//将jsx 变成createElement\r\n//eact.Component基类\r\nclass Counter extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            num:1\r\n        }\r\n    }\r\n    render(){\r\n        // {this.state.num} jsx预编译为number 不是string \r\n        return(\r\n            <div>\r\n                <h1>count:{this.state.num}</h1>  \r\n                <button onClick={() =>this.onClick()}>add</button>\r\n            </div>\r\n        )\r\n    }\r\n    onClick(){\r\n        console.log('onclick');\r\n        this.setState({\r\n            num:this.state.num + 1\r\n        })\r\n    }\r\n}\r\nReactDOM.render(\r\n    <div>\r\n        Hello\r\n        <span className='rt' onClick=\"console.log('zz');\"style={{fontSize:20,fontWeight:'bold'}}>World!</span>\r\n        <Counter/>\r\n    </div>,\r\n    document.getElementById('root')\r\n)\r\n"]}